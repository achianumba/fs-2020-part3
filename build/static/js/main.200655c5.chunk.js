(this.webpackJsonpPhonebook=this.webpackJsonpPhonebook||[]).push([[0],{16:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBQMOOxnJE7lYAAABhklEQVRIx72UO1ICQRCGvxVIUNGEtVSqvIZeAC5ggBlnMNYreAaNrILUMvACGhFrKCxaPBIeUoU8xoBhd3a3B5bEf4Kd3u75prt3dsCmEnV+USgm1LlkS1VYoEKjIgc64ttDPskx54URsEeRFH3O6Cfdv4RCcePbtygURSl0RwTkAPjw7XcADmwlXHMeeVvgAnjFs9grvXEHUI20K/mo2kr4Tzm6lY+WD2qX4opFYHa2rr+N3nsps78zhuKeQ2aG1QoDmr6jQIayntdwcKhpq0yGgh/XtGWQAjpiBm0gvRngAl0R0NXe0Ip4CXkroKe9CTIY8xNbPmKcPAOpCx3DK2agQoB4Ed0QQEU/44TeVoAukzAgKMJdW4IbiTYAqzYmy8CLA5pbAdZk4K4FuJFoAbBL1tqDLNnNANtZFA+y1IMlQM4gH48OAC3/KLnAPAZYYB6jLwQ19F0zYCreQVMGetYIFpm38rN+7ht/vak0+3r2JPo5wkt0G35zjEWnPGyAeNxzYi75AyLu4ua9hqYNAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA1LTAzVDE0OjU5OjI1KzAwOjAw2zd7CAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNS0wM1QxNDo1OToyNSswMDowMKpqw7QAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},17:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAASlQTFRF////AP//AP//gP//gL//VdX/TczmRrnoVb/qScjtObjxQL/yTbPmScLzRq7oRcT1TLPsRMTuQ7XyRrPyR8PvRLb1RMHvRLbtQ8DyRcLzRL/vRsHwRMLxRMLyRbTtRMHwRa/uRcLyRsHyRLHwRMDwRrPvRK/tRbHtRK/vRsHxRcLyRa/uRcDyRMDwRK7tRMDxRK/tRcHxRcHxRa/vRa/tRsHxRK/uRcLyRcHwRMDxRcHxRMHyRa7uRa3tRK3tRsHxRa3tRcHxRK3uRcHxRK3uRKzuRcHwRMDxRK3uRsLxRavtRKvtRcHxRKrtRcHxRKruRcHxRaruRcHxRKrtRMHxRKntRKjsRKjsRKjtRKftRcHxRKbsRabtRcHxRKbsRKbtRcHxRKTsRcHxY3WbmAAAAGF0Uk5TAAECAgQGCgsMDhIUFBUWGhseJigvMTE4OT9AQktPVVZZYGNlZW5wc4CAhYaGio6Oj5OUnKChoqqus7i+wMXGxsnKzc7R0tLY3Nzj5ebo6evt7vHy8vT29/n6/P39/f7+/rELeicAAAECSURBVDjLndLHWkJBDAXgAyiKig0b9obYe2/Yu4IFUCzc5P0fwgX43ZlMZmO251+kAUb1ze09fD4ejkOvxvkKMxMRHTVreesVcx1QuVsBOxwCunPzMTYBrTrg2gbvMk8ENqBOAdIsQEaASQk2BRiQYEqAeEWAFtnluQ1KzphDgQWy7qbWTXCprLppPwT5dvWc0281UN323BsdE2u514uNXvy3Isme9OBMZjQVVePhrcJfkz83s06c3LUXdZ+y85EneYuvBTNfZJaA6Nh4hkAD4UvEb1kFH211sMI6oLNa3vXtA9RvPbwClgEAS35wAgA48INnAIi8+EE1CiB26gfFBvwC7+vHbBSPmMwAAAAASUVORK5CYII="},19:function(e,t,a){e.exports=a(42)},24:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(18),c=a(2),r=a(0),A=a.n(r),o=a(15),s=a.n(o),u=(a(24),a(16)),l=a.n(u),m=a(17),i=a.n(m),R=a(4),d=a.n(R),b="/api/persons",p=function(){return d.a.get(b)},h=function(e){return d.a.post(b,e)},v=function(e,t){return d.a.put("".concat(b,"/").concat(e),t)},f=function(e){return d.a.delete("".concat(b,"/").concat(e))},g=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(""),u=Object(c.a)(s,2),l=u[0],m=u[1],i=Object(r.useState)(""),R=Object(c.a)(i,2),d=R[0],b=R[1],g=Object(r.useState)(!1),C=Object(c.a)(g,2),x=C[0],y=C[1],K=Object(r.useState)(""),H=Object(c.a)(K,2),j=H[0],O=H[1],M=Object(r.useState)(0),Q=Object(c.a)(M,2),L=Q[0],k=Q[1],B=Object(r.useState)({content:"",type:""}),D=Object(c.a)(B,2),I=D[0],P=D[1],U=function(e,t){P({content:e,type:t}),setTimeout((function(){return P({content:"",type:""})}),5e3)};return Object(r.useEffect)((function(){p("http://localhost:3001/persons").then((function(e){y(!0),o(e.data)}))}),[]),A.a.createElement("div",{id:"phonebook"},""!==I.content?A.a.createElement("p",{className:"message message-".concat(I.type)},I.content):"",A.a.createElement("div",{id:"left"},A.a.createElement("h1",null,"PhoneBook"),A.a.createElement(E,{handleSearch:function(e){if(e.preventDefault(),0===e.target.value)return k(0);O(e.target.value);var t=a.filter((function(t){return new RegExp("^".concat(e.target.value),"i").test(t.name)}));k(t)},search:j}),A.a.createElement(N,{submit:function(e){e.preventDefault();var t=a.some((function(e){return e.name===l})),c=a.some((function(e){return e.number===d})),r=a.find((function(e){var t=e.name,a=e.number;return t===l&&a!==d}));if(""===l||""===d)return U("Please enter a valid name and phone number","warning");if(void 0===r)return t&&c?U("".concat(l," already exists"),"warning"):(h({name:l,number:d}).then((function(e){o([].concat(Object(n.a)(a),[e.data])),U("Added ".concat(e.data.name," successfully!"),"success")})).catch((function(e){console.error(e.response.data.error),U(e.response.data.error,"error")})),m(""),b(""));var A=r.name;return window.confirm("".concat(A," already exists. Do you want to replace it?"))?v(r.id,{number:d}).then((function(e){o(a.filter((function(t){return t.id!==e.data.id})).concat(e.data)),U("Updated ".concat(e.data.name," successfully"),"success"),m(""),b("")})).catch((function(e){console.log(e.response.data.error),U(e.response.data.error,"error")})):void 0},setName:function(e){return m(e.target.value)},name:l,setNumber:function(e){return b(e.target.value)},number:d})),A.a.createElement(w,{results:L,persons:a,deleteContact:function(e){if(e.preventDefault(),"delete-contact"===e.target.className){var t=e.target.dataset.name,n=e.target.dataset.id;window.confirm("Delete ".concat(t,"?"))&&f(n).then((function(){o(a.filter((function(e){return e.id!==n}))),U("".concat(t," deleted successfully!"),"success")})).catch((function(e){console.error(e.response.data.error),U(e.response.data.error,"error")}))}},personsLoaded:x}))},E=function(e){var t=e.handleSearch,a=e.search;return A.a.createElement("div",{id:"search-filter"},A.a.createElement("input",{onChange:t,type:"search",value:a,placeholder:"Search"}))},N=function(e){var t=e.submit,a=e.setName,n=e.name,c=e.setNumber,r=e.number;return A.a.createElement("form",{onSubmit:t},A.a.createElement("h2",null,"Add a new contact"),A.a.createElement("input",{type:"text",onChange:a,value:n,placeholder:"Name"}),A.a.createElement("input",{type:"text",onChange:c,value:r,placeholder:"Phone number"}),A.a.createElement("button",{type:"submit"},"Save contact"))},w=function(e){var t=e.results,a=e.persons,n=e.deleteContact,c=e.personsLoaded,r=function(e,t){return 1===e?A.a.createElement("h2",{id:"loading"},"Loading phonebook..."):0===e?A.a.createElement(A.a.Fragment,null,A.a.createElement("h2",{className:"empty-list"},"No contacts have been added to this phonebook"),A.a.createElement("h4",{className:"empty-list"},"Use the ",A.a.createElement("em",null,"Add a contact")," form to save a person's name and number now.")):e.map((function(e){var t=e.name,a=e.number,n=e.id;return A.a.createElement("div",{key:n,className:"contact"},A.a.createElement("img",{className:"avatar",src:i.a,alt:"".concat(t,"'s avatar")}),A.a.createElement("div",{className:"contact-details"},A.a.createElement("p",{className:"contact-name"},t),A.a.createElement("p",{className:"contact-number"},a)),A.a.createElement("img",{className:"delete-contact",src:l.a,alt:"delete contact",title:"Delete ".concat(t),"data-name":t,"data-id":n}))}))};return A.a.createElement("div",{id:"contacts",onClick:n},A.a.createElement("h1",null,"PhoneBook"),0===a.length&&!1===c?r(1):0===a.length?r(0):r(0!==t?t:a))};s.a.render(A.a.createElement(g,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.200655c5.chunk.js.map